/*! Angular draganddrop v0.0.1 | (c) 2013 Greg Berg√© | License MIT */
function draggableDirective(){return{restrict:"A",link:function(a,b,c){var d=b[0],e=c.effectAllowed,f=c.draggableData,g=c.draggableType,h="false"===c.draggable?!1:!0;d.draggable=h,h&&d.addEventListener("dragstart",function(b){b.dataTransfer.effectAllowed=e||b.dataTransfer.effectAllowed;var c=a.$eval(f),d=angular.toJson(c);b.dataTransfer.setData("json/"+g,d)})}}}function dropDirective(a){return{restrict:"A",link:function(b,c,d){function e(){c.removeClass(k)}function f(a,b){return"boolean"==typeof a?a:"string"==typeof a?f([a],b):Array.isArray(a)?f(function(b){return b.some(function(b){return-1!==a.indexOf(b)})},b):"function"==typeof a?a(b.dataTransfer.types):!1}function g(a){var b=a.dataTransfer.types;return b.reduce(function(b,c){var d=a.dataTransfer.getData(c),e=/(.*)\//.exec(c);return e=e?e[1]:null,"json"===e&&(d=JSON.parse(d)),b[c]=d,b},{})}var h=c[0],i=d.dropEffect,j=d.dropAccept,k=d.dragOverClass,l=a(d.dragOver),m=a(d.drop);h.addEventListener("dragover",function(a){return f(b.$eval(j),a)?(k&&c.addClass(k),a.dataTransfer.dropEffect=i||a.dataTransfer.dropEffect,l(b,{$event:a}),a.preventDefault(),void 0):!0}),h.addEventListener("drop",function(a){var c=g(a);e(),m(b,{$data:c,$event:a}),a.preventDefault()}),h.addEventListener("dragleave",e)}}}angular.module("draganddrop",[]).directive("draggable",draggableDirective).directive("drop",["$parse",dropDirective]);